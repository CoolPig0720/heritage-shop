# åç«¯æ¥å£æ¸…å•è¡¨

ï¼ˆåŸºäº Spring Boot çš„éé—äº§å“æ™ºèƒ½å®šåˆ¶å•†åŸç³»ç»Ÿï¼‰

æœ€åæ›´æ–°ï¼š2026-02-06

---

## ä¸€ã€è®¤è¯ä¸ç”¨æˆ·æ¨¡å—æ¥å£

---

### 1.1 æ³¨å†Œä¸ç™»å½•æ¨¡å—

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„               | å‚æ•°è¯´æ˜                                   | è®¿é—®æƒé™ |
| ---- | ---- | ------------------ | -------------------------------------- | ---- |
| ç”¨æˆ·æ³¨å†Œ | POST | `/api/auth/register` | account, password, confirmPassword, name, role | æ‰€æœ‰äºº  |
| ç”¨æˆ·ç™»å½• | POST | `/api/auth/login`    | account, password                          | æ‰€æœ‰äºº  |

---

### 1.2 ä¸ªäººä¸­å¿ƒæ¨¡å—

| æ¥å£åç§°     | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„                 | å‚æ•°è¯´æ˜                        | è®¿é—®æƒé™                    |
| -------- | ---- | -------------------- | --------------------------- | ----------------------- |
| è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ | GET  | `/api/user/profile`  | æ—                            | USER / MERCHANT / ADMIN |
| ä¿®æ”¹ä¸ªäººä¿¡æ¯   | PUT  | `/api/user/profile`  | name, avatar, passwordï¼ˆå¯é€‰ï¼‰ | USER / MERCHANT / ADMIN |
| ä¿®æ”¹å¯†ç      | PUT  | `/api/user/password` | oldPassword, newPassword, confirmPassword | USER / MERCHANT / ADMIN |

---

### 1.3 ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆç®¡ç†å‘˜ï¼‰

| æ¥å£åç§°       | è¯·æ±‚æ–¹å¼   | æ¥å£è·¯å¾„                 | å‚æ•°è¯´æ˜                 | è®¿é—®æƒé™ |
| ---------- | ------ | -------------------- | -------------------- | ---- |
| ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢     | GET    | `/api/user/list`     | page, size, name, role | ADMIN |
| æ›´æ–°ç”¨æˆ·ä¿¡æ¯     | PUT    | `/api/user/{id}/update` | name, avatar, passwordï¼ˆå¯é€‰ï¼‰ | ADMIN |
| æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ˆå…¼å®¹ï¼‰ | PUT    | `/api/user/{id}/status` | name, avatar, passwordï¼ˆå¯é€‰ï¼‰ | ADMIN |
| åˆ é™¤ç”¨æˆ·       | DELETE | `/api/user/{id}`     | id                   | ADMIN |

---

## äºŒã€å•†å“ç®¡ç†æ¨¡å—æ¥å£

---

### 2.1 å•†å“ç®¡ç†ï¼ˆç®¡ç†å‘˜ / å•†å®¶ï¼‰

| æ¥å£åç§°   | è¯·æ±‚æ–¹å¼   | æ¥å£è·¯å¾„                        | å‚æ•°è¯´æ˜                                                     | è®¿é—®æƒé™             |
| ------ | ------ | --------------------------- | -------------------------------------------------------- | ---------------- |
| æ–°å¢å•†å“   | POST   | `/api/products`             | name, description, priceï¼ˆå¯é€‰ï¼‰                               | ADMIN / MERCHANT |
| ä¿®æ”¹å•†å“   | PUT    | `/api/products/{id}`        | name, description, price, status, traceCode, traceQrUrl, model3dUrlï¼ˆå‡å¯é€‰ï¼‰ | ADMIN / MERCHANT |
| åˆ é™¤å•†å“   | DELETE | `/api/products/{id}`        | id                                                       | ADMIN / MERCHANT |
| å•†å“åˆ—è¡¨æŸ¥è¯¢ | GET    | `/api/products`             | page, size, keyword, name, statusï¼ˆstatus å¯é€‰ï¼‰              | ADMIN / MERCHANT |
| å•†å“ä¸Šä¸‹æ¶  | PUT    | `/api/products/{id}/status` | status                                                   | ADMIN / MERCHANT |
| å•†å“å›¾ç‰‡åˆ—è¡¨ | GET    | `/api/products/{id}/images` | id                                                       | ADMIN / MERCHANT |
| æ–°å¢å•†å“å›¾ç‰‡ | POST   | `/api/products/{id}/images` | imageUrls[], setFirstAsCoverï¼ˆå¯é€‰ï¼‰                          | ADMIN / MERCHANT |
| æ›´æ–°å•†å“å›¾ç‰‡ | PUT    | `/api/products/images/{imageId}` | imageUrl, sortOrder, isCoverï¼ˆå‡å¯é€‰ï¼‰                         | ADMIN / MERCHANT |
| åˆ é™¤å•†å“å›¾ç‰‡ | DELETE | `/api/products/images/{imageId}` | imageId                                                  | ADMIN / MERCHANT |

> ğŸ“Œ å•†å®¶æ“ä½œæ—¶éœ€æ ¡éªŒå•†å“å½’å±ï¼Œç®¡ç†å‘˜å¯æ“ä½œæ‰€æœ‰å•†å“ã€‚

---

### 2.2 å•†åŸå±•ç¤ºæ¨¡å—ï¼ˆå‰å°ï¼‰

| æ¥å£åç§°   | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„                  | å‚æ•°è¯´æ˜          | è®¿é—®æƒé™ |
| ------ | ---- | --------------------- | ------------- | ---- |
| éšæœºæ¨èå•†å“ | GET  | `/api/shop/recommend` | countï¼ˆå¯é€‰ï¼Œé»˜è®¤ 20ï¼‰ | USER / MERCHANT / ADMIN |
| å•†å“è¯¦æƒ…   | GET  | `/api/shop/products/{id}` | id            | USER / MERCHANT / ADMIN |

---

## ä¸‰ã€å®åè®¤è¯æ¨¡å—æ¥å£

---

| æ¥å£åç§°     | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„                      | å‚æ•°è¯´æ˜                   | è®¿é—®æƒé™                    |
| -------- | ---- | ------------------------- | ---------------------- | ----------------------- |
| æäº¤å®åè®¤è¯   | POST | `/api/certificate`        | certificateNumber, name | USER / MERCHANT / ADMIN |
| è·å–å½“å‰ç”¨æˆ·è®¤è¯ä¿¡æ¯ | GET  | `/api/certificate`        | æ—                       | USER / MERCHANT / ADMIN |
| æ›´æ–°è®¤è¯ä¿¡æ¯   | PUT  | `/api/certificate`        | certificateNumber, name | USER / MERCHANT / ADMIN |
| è·å–è¯ä»¶ä¿¡æ¯   | GET  | `/api/certificate/{certificateNumber}` | certificateNumber      | USER / MERCHANT / ADMIN |

---

## å››ã€æ”¶è´§åœ°å€æ¨¡å—æ¥å£

---

| æ¥å£åç§°     | è¯·æ±‚æ–¹å¼   | æ¥å£è·¯å¾„                         | å‚æ•°è¯´æ˜                                                                 | è®¿é—®æƒé™                    |
| -------- | ------ | ---------------------------- | -------------------------------------------------------------------- | ----------------------- |
| æ–°å¢åœ°å€     | POST   | `/api/user/address`          | receiverName, receiverPhone, regionNamePath, regionCodePathï¼ˆå¯é€‰ï¼‰, regionDepthï¼ˆå¯é€‰ï¼‰, detailAddress, isDefaultï¼ˆå¯é€‰ï¼‰ | USER / MERCHANT / ADMIN |
| ä¿®æ”¹åœ°å€     | PUT    | `/api/user/address/{id}`     | receiverNameï¼ˆå¯é€‰ï¼‰, receiverPhoneï¼ˆå¯é€‰ï¼‰, regionNamePathï¼ˆå¯é€‰ï¼‰, regionCodePathï¼ˆå¯é€‰ï¼‰, regionDepthï¼ˆå¯é€‰ï¼‰, detailAddressï¼ˆå¯é€‰ï¼‰ | USER / MERCHANT / ADMIN |
| åˆ é™¤åœ°å€     | DELETE | `/api/user/address/{id}`     | id                                                                   | USER / MERCHANT / ADMIN |
| æŸ¥è¯¢å½“å‰ç”¨æˆ·åœ°å€ | GET    | `/api/user/address/list`     | æ—                                                                     | USER / MERCHANT / ADMIN |
| è®¾ä¸ºé»˜è®¤åœ°å€   | PUT    | `/api/user/address/{id}/default` | id                                                                   | USER / MERCHANT / ADMIN |

> ğŸ“Œ è¯´æ˜ï¼šuser_id ä» JWT ä¸­è·å–ï¼Œç¦æ­¢å‰ç«¯ä¼ å…¥ï¼›åœ°åŒºä½¿ç”¨ regionNamePathï¼ˆ/ åˆ†éš”ï¼‰å­˜å‚¨ä»¥æ”¯æŒå¤šçº§è¡Œæ”¿åŒºä¸æµ·å¤–ã€‚

---

## äº”ã€æ–‡ä»¶ç®¡ç†æ¨¡å—æ¥å£

---

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„            | å‚æ•°è¯´æ˜         | è®¿é—®æƒé™ |
| ---- | ---- | --------------- | ------------ | ---- |
| ä¸Šä¼ æ–‡ä»¶ | POST | `/api/file/upload` | multipart/form-data: file | æ‰€æœ‰äºº  |

---

## å…­ã€éé—æ–‡åŒ–æ¨¡å—æ¥å£

---

### 6.1 å‰å°å…¬å¼€æ¥å£ï¼ˆé¢å‘å±•ç¤ºï¼‰

| æ¥å£åç§°   | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„                           | å‚æ•°è¯´æ˜                             | è®¿é—®æƒé™ |
| ------ | ---- | ---------------------------------- | -------------------------------- | ---- |
| è·å–åˆ†ç±»æ ‘  | GET  | `/api/heritage/categories/tree`    | æ—                                 | æ‰€æœ‰äºº  |
| é¡¹ç›®åˆ†é¡µåˆ—è¡¨ | GET  | `/api/heritage/projects`           | page, size, keywordï¼ˆå¯é€‰ï¼‰, categoryIdï¼ˆå¯é€‰ï¼‰ | æ‰€æœ‰äºº  |
| é¡¹ç›®è¯¦æƒ…   | GET  | `/api/heritage/projects/{id}`      | id                               | æ‰€æœ‰äºº  |
| ä¼ æ‰¿äººè¯¦æƒ…  | GET  | `/api/heritage/inheritors/{id}`    | id                               | æ‰€æœ‰äºº  |

---

### 6.2 ç®¡ç†ç«¯æ¥å£ï¼ˆç®¡ç†å‘˜ï¼‰

| æ¥å£åç§°   | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„                               | å‚æ•°è¯´æ˜                                                     | è®¿é—®æƒé™ |
| ------ | ---- | ---------------------------------- | -------------------------------------------------------- | ---- |
| è·å–åˆ†ç±»æ ‘  | GET  | `/api/admin/heritage/categories/tree` | æ—                                                        | ADMIN |
| æ–°å¢ç±»å‹   | POST | `/api/admin/heritage/categories`      | name, parentIdï¼ˆå¯é€‰ï¼‰, sortOrderï¼ˆå¯é€‰ï¼Œé»˜è®¤ 0ï¼‰                   | ADMIN |
| é¡¹ç›®åˆ†é¡µåˆ—è¡¨ | GET  | `/api/admin/heritage/projects`        | page, size, keywordï¼ˆå¯é€‰ï¼‰, categoryIdï¼ˆå¯é€‰ï¼‰                  | ADMIN |
| é¡¹ç›®è¯¦æƒ…   | GET  | `/api/admin/heritage/projects/{id}`   | id                                                       | ADMIN |
| æ–°å¢é¡¹ç›®   | POST | `/api/admin/heritage/projects`        | categoryId, name, description, applyUnit, protectUnit     | ADMIN |
| ä¿®æ”¹é¡¹ç›®   | PUT  | `/api/admin/heritage/projects/{id}`   | categoryId, name, description, applyUnit, protectUnit     | ADMIN |
| æ›´æ–°é¡¹ç›®ä¼ æ‰¿äºº | PUT  | `/api/admin/heritage/projects/{id}/inheritors` | inheritorIds[]                                           | ADMIN |
| æ–°å¢é¡¹ç›®åª’ä½“ | POST | `/api/admin/heritage/projects/{id}/medias` | mediaType, mediaUrl, sortOrderï¼ˆå¯é€‰ï¼Œé»˜è®¤ 0ï¼‰                  | ADMIN |
| æ›´æ–°é¡¹ç›®åª’ä½“ | PUT  | `/api/admin/heritage/projects/medias/{mediaId}` | mediaTypeï¼ˆå¯é€‰ï¼‰, mediaUrlï¼ˆå¯é€‰ï¼‰, sortOrderï¼ˆå¯é€‰ï¼‰            | ADMIN |
| åˆ é™¤é¡¹ç›®åª’ä½“ | DELETE | `/api/admin/heritage/projects/medias/{mediaId}` | mediaId                                                  | ADMIN |
| åˆ é™¤é¡¹ç›®   | DELETE | `/api/admin/heritage/projects/{id}` | id                                                       | ADMIN |
| ä¼ æ‰¿äººåˆ†é¡µåˆ—è¡¨ | GET  | `/api/admin/heritage/inheritors`      | page, size, keywordï¼ˆå¯é€‰ï¼‰                                  | ADMIN |
| ä¼ æ‰¿äººè¯¦æƒ…  | GET  | `/api/admin/heritage/inheritors/{id}` | id                                                       | ADMIN |
| æ–°å¢ä¼ æ‰¿äºº  | POST | `/api/admin/heritage/inheritors`      | name, genderï¼ˆå¯é€‰ï¼‰, birthDateï¼ˆå¯é€‰ï¼‰, nationï¼ˆå¯é€‰ï¼‰, photoï¼ˆå¯é€‰ï¼‰, descriptionï¼ˆå¯é€‰ï¼‰ | ADMIN |
| ä¿®æ”¹ä¼ æ‰¿äºº  | PUT  | `/api/admin/heritage/inheritors/{id}` | name, genderï¼ˆå¯é€‰ï¼‰, birthDateï¼ˆå¯é€‰ï¼‰, nationï¼ˆå¯é€‰ï¼‰, photoï¼ˆå¯é€‰ï¼‰, descriptionï¼ˆå¯é€‰ï¼‰ | ADMIN |
| åˆ é™¤ä¼ æ‰¿äºº  | DELETE | `/api/admin/heritage/inheritors/{id}` | id                                                       | ADMIN |

---

## ä¸ƒã€æ¥å£è®¾è®¡æ€»ç»“ï¼ˆè®ºæ–‡å¯ç›´æ¥ç”¨ï¼‰

æœ¬ç³»ç»Ÿåç«¯æ¥å£é‡‡ç”¨ RESTful é£æ ¼è¿›è¡Œè®¾è®¡ï¼Œæ ¹æ®ä¸åŒåŠŸèƒ½æ¨¡å—åˆ’åˆ†æ¥å£è·¯å¾„ï¼Œå¹¶ç»“åˆç”¨æˆ·è§’è‰²å®ç°è®¿é—®æƒé™æ§åˆ¶ã€‚æ¥å£å‘½åè¯­ä¹‰æ¸…æ™°ã€ç»“æ„ç»Ÿä¸€ï¼Œæœ‰åˆ©äºå‰åç«¯åˆ†ç¦»å¼€å‘åŠç³»ç»ŸåæœŸç»´æŠ¤ä¸æ‰©å±•ã€‚

---

## å…«ã€å˜æ›´è®°å½•

| å˜æ›´æ—¥æœŸ    | å˜æ›´å†…å®¹ |
| ----------- | -------- |
| 2026-01-28  | æ¸…ç†æœªå®ç°æ¥å£ï¼ŒæŒ‰å½“å‰ä»£ç æ›´æ–°è®¤è¯/ç”¨æˆ·/å•†å“/å®åè®¤è¯/æ–‡ä»¶ä¸Šä¼ æ¥å£æ¸…å• |
| 2026-01-29  | æ–°å¢æ”¶è´§åœ°å€æ¨¡å—æ¥å£æ¸…å•ï¼ˆæ–°å¢/ä¿®æ”¹/åˆ é™¤/åˆ—è¡¨/è®¾é»˜è®¤ï¼‰ |
| 2026-02-05  | æ–°å¢éé—æ–‡åŒ–æ¨¡å—æ¥å£æ¸…å•ï¼ˆåˆ†ç±»æ ‘/é¡¹ç›®åˆ†é¡µ/é¡¹ç›®è¯¦æƒ…/ä¼ æ‰¿äººè¯¦æƒ…ï¼‰ï¼Œå¹¶å¼€æ”¾ `/api/heritage/**` åŒ¿åè®¿é—® |
| 2026-02-06  | æ–°å¢éé—ç®¡ç†ç«¯æ¥å£æ¸…å•ï¼ˆç®¡ç†å‘˜ï¼šåˆ†ç±»æ ‘/ç±»å‹æ–°å¢/é¡¹ç›® CRUD/é¡¹ç›®ä¼ æ‰¿äººæ›´æ–°/é¡¹ç›®åª’ä½“å¢åˆ æ”¹/ä¼ æ‰¿äºº CRUDï¼‰ |


