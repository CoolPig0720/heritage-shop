# 后端接口清单表

（基于 Spring Boot 的非遗产品智能定制商城系统）

最后更新：2026-01-28

---

## 一、认证与用户模块接口

---

### 1.1 注册与登录模块

| 接口名称 | 请求方式 | 接口路径               | 参数说明                                   | 访问权限 |
| ---- | ---- | ------------------ | -------------------------------------- | ---- |
| 用户注册 | POST | `/api/auth/register` | account, password, confirmPassword, name, role | 所有人  |
| 用户登录 | POST | `/api/auth/login`    | account, password                          | 所有人  |

---

### 1.2 个人中心模块

| 接口名称     | 请求方式 | 接口路径                 | 参数说明                        | 访问权限                    |
| -------- | ---- | -------------------- | --------------------------- | ----------------------- |
| 获取当前用户信息 | GET  | `/api/user/profile`  | 无                           | USER / MERCHANT / ADMIN |
| 修改个人信息   | PUT  | `/api/user/profile`  | name, avatar, password（可选） | USER / MERCHANT / ADMIN |
| 修改密码     | PUT  | `/api/user/password` | oldPassword, newPassword, confirmPassword | USER / MERCHANT / ADMIN |

---

### 1.3 用户管理模块（管理员）

| 接口名称       | 请求方式   | 接口路径                 | 参数说明                 | 访问权限 |
| ---------- | ------ | -------------------- | -------------------- | ---- |
| 用户列表查询     | GET    | `/api/user/list`     | page, size, name, role | ADMIN |
| 更新用户信息     | PUT    | `/api/user/{id}/update` | name, avatar, password（可选） | ADMIN |
| 更新用户信息（兼容） | PUT    | `/api/user/{id}/status` | name, avatar, password（可选） | ADMIN |
| 删除用户       | DELETE | `/api/user/{id}`     | id                   | ADMIN |

---

## 二、商品管理模块接口

---

### 2.1 商品管理（管理员 / 商家）

| 接口名称   | 请求方式   | 接口路径                        | 参数说明                                                     | 访问权限             |
| ------ | ------ | --------------------------- | -------------------------------------------------------- | ---------------- |
| 新增商品   | POST   | `/api/products`             | name, description, price（可选）                               | ADMIN / MERCHANT |
| 修改商品   | PUT    | `/api/products/{id}`        | name, description, price, status, traceCode, traceQrUrl, model3dUrl（均可选） | ADMIN / MERCHANT |
| 删除商品   | DELETE | `/api/products/{id}`        | id                                                       | ADMIN / MERCHANT |
| 商品列表查询 | GET    | `/api/products`             | page, size, keyword, name, status（status 可选）              | ADMIN / MERCHANT |
| 商品上下架  | PUT    | `/api/products/{id}/status` | status                                                   | ADMIN / MERCHANT |
| 商品图片列表 | GET    | `/api/products/{id}/images` | id                                                       | ADMIN / MERCHANT |
| 新增商品图片 | POST   | `/api/products/{id}/images` | imageUrls[], setFirstAsCover（可选）                          | ADMIN / MERCHANT |
| 更新商品图片 | PUT    | `/api/products/images/{imageId}` | imageUrl, sortOrder, isCover（均可选）                         | ADMIN / MERCHANT |
| 删除商品图片 | DELETE | `/api/products/images/{imageId}` | imageId                                                  | ADMIN / MERCHANT |

> 📌 商家操作时需校验商品归属，管理员可操作所有商品。

---

### 2.2 商城展示模块（前台）

| 接口名称   | 请求方式 | 接口路径                  | 参数说明          | 访问权限 |
| ------ | ---- | --------------------- | ------------- | ---- |
| 随机推荐商品 | GET  | `/api/shop/recommend` | count（可选，默认 20） | USER / MERCHANT / ADMIN |
| 商品详情   | GET  | `/api/shop/products/{id}` | id            | USER / MERCHANT / ADMIN |

---

## 三、实名认证模块接口

---

| 接口名称     | 请求方式 | 接口路径                      | 参数说明                   | 访问权限                    |
| -------- | ---- | ------------------------- | ---------------------- | ----------------------- |
| 提交实名认证   | POST | `/api/certificate`        | certificateNumber, name | USER / MERCHANT / ADMIN |
| 获取当前用户认证信息 | GET  | `/api/certificate`        | 无                      | USER / MERCHANT / ADMIN |
| 更新认证信息   | PUT  | `/api/certificate`        | certificateNumber, name | USER / MERCHANT / ADMIN |
| 获取证件信息   | GET  | `/api/certificate/{certificateNumber}` | certificateNumber      | USER / MERCHANT / ADMIN |

---

## 四、文件管理模块接口

---

| 接口名称 | 请求方式 | 接口路径            | 参数说明         | 访问权限 |
| ---- | ---- | --------------- | ------------ | ---- |
| 上传文件 | POST | `/api/file/upload` | multipart/form-data: file | 所有人  |

---

## 五、接口设计总结（论文可直接用）

本系统后端接口采用 RESTful 风格进行设计，根据不同功能模块划分接口路径，并结合用户角色实现访问权限控制。接口命名语义清晰、结构统一，有利于前后端分离开发及系统后期维护与扩展。

---

## 六、变更记录

| 变更日期    | 变更内容 |
| ----------- | -------- |
| 2026-01-28  | 清理未实现接口，按当前代码更新认证/用户/商品/实名认证/文件上传接口清单 |


